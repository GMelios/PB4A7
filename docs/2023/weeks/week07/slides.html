<!DOCTYPE html>
<html lang="en"><head>
<link href="../../../figures/icons/course_favicon.png" rel="icon" type="image/png">
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Dr.&nbsp;George Melios">
  <meta name="dcterms.date" content="23 October 2023">
  <title>PB4A7 - Quantitative Applications for Behavioural Science - Binary Variables and Functional Form</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="../../../css/styles_slides.css">
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="PB4A7 - Quantitative Applications for Behavioural Science - Binary Variables and Functional Form">
<meta property="og:description" content="i.e.&nbsp;what you actually do most of the time">
<meta property="og:site-name" content="PB4A7 - Quantitative Applications for Behavioural Science">
<meta name="twitter:title" content="PB4A7 - Quantitative Applications for Behavioural Science - Binary Variables and Functional Form">
<meta name="twitter:description" content="i.e.&nbsp;what you actually do most of the time">
<meta name="twitter:creator" content="@georgemelios">
<meta name="twitter:site" content="\www.georgemelios.com">
<meta name="twitter:card" content="summary">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block">
  <h1 class="title">Binary Variables and Functional Form</h1>
  <p class="subtitle">i.e.&nbsp;what you actually do most of the time</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;<a href="#/">George Melios</a> 
</div>
        <p class="quarto-title-affiliation">
            <a href="#/">London School of Economics and Political Science</a>
          </p>
    </div>
</div>

  <p class="date">Updated 2023-11-20</p>
</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">What we will cover today:</h2>
<ul>
<li><a href="#/check-in" id="/toc-check-in">Check-in</a></li>
<li><a href="#/the-right-hand-side" id="/toc-the-right-hand-side">The Right Hand Side</a></li>
<li><a href="#/binary-data" id="/toc-binary-data">Binary Data</a></li>
<li><a href="#/more-than-two-categories" id="/toc-more-than-two-categories">More than Two Categories</a></li>
<li><a href="#/interpreting-ols" id="/toc-interpreting-ols">Interpreting OLS</a></li>
<li><a href="#/polynomials" id="/toc-polynomials">Polynomials</a></li>
<li><a href="#/logarithms" id="/toc-logarithms">Logarithms</a></li>
</ul>
</nav>
</section>
<section class="slide level2">

<div class="cell">
<style type="text/css">
pre {
  max-height: 350px;
  overflow-y: auto;
}

pre[class] {
  max-height: 100px;
}
</style>
</div>
</section>
<section>
<section id="check-in" class="title-slide slide level1">
<h1>Check-in</h1>
<ul>
<li>Where are we at?</li>
<li>Next week reading week!!! After that, we will start the causal methods. The format will be very similar to lectures up to now - extra papers</li>
<li>This lecture will cover the last “intro” material</li>
<li>This is a pretty packed lecture, but it’s structured to be easy to come back to and review, there will be plenty of practice next time, and this might end up broken across both days</li>
</ul>
</section>
<section id="bias-and-the-error-term" class="slide level2">
<h2>Bias and the Error Term</h2>
<ul>
<li>All of the nice stuff we’ve gotten so far makes some assumptions about our true model</li>
</ul>
<p><span class="math display">\[ Y = \beta_0 + \beta_1X + \varepsilon \]</span></p>
<ul>
<li>In particular, we’ve made some assumptions about the error term <span class="math inline">\(\varepsilon\)</span></li>
<li>So what is that error term exactly, and what are we assuming about it?</li>
</ul>
</section>
<section id="the-error-term" class="slide level2">
<h2>The Error Term</h2>
<ul>
<li>The error term contains everything that isn’t in our model</li>
<li>If <span class="math inline">\(Y\)</span> were a pure function of <span class="math inline">\(X\)</span>, for example if <span class="math inline">\(Y\)</span> was “height in feet” and <span class="math inline">\(X\)</span> was “height in inches”, we wouldn’t have an error term, because a straight line fully describes the relationship perfectly with no variation</li>
<li>But in most cases, the line is a simplification - we’re leaving other stuff out! That’s in the error term</li>
</ul>
</section>
<section id="the-error-term-1" class="slide level2">
<h2>The Error Term</h2>
<ul>
<li>Consider this data generating process:</li>
</ul>
<p><span class="math display">\[ ClassGrade = \beta_0 + \beta_1 StudyTime + \varepsilon \]</span></p>
<ul>
<li>Surely StudyTime isn’t the <em>only</em> thing that determines your ClassGrade</li>
<li>Everything else is in the error term!</li>
<li>ProfessorLeniency, InterestInSubject, Intelligence, and so on and so on…</li>
</ul>
</section>
<section id="the-error-term-2" class="slide level2">
<h2>The Error Term</h2>
<ul>
<li>Isn’t that really bad? We’re leaving out a bunch of important stuff!</li>
<li>If you want to <em>predict <span class="math inline">\(Y\)</span> as accurately as possible</em> then we’re probably going to do a bad job of it</li>
<li>But if our real interest is *figuring out the relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, then it’s fine to leave stuff out, as long as whatever’s left in the error term obeys a few important assumptions</li>
</ul>
</section>
<section id="error-term-assumptions" class="slide level2">
<h2>Error Term Assumptions</h2>
<ul>
<li>The most important assumption about the error term is that it is <em>unrelated to <span class="math inline">\(X\)</span></em></li>
<li>If <span class="math inline">\(X\)</span> and <span class="math inline">\(\varepsilon\)</span> are correlated, <span class="math inline">\(\hat{\beta}_1\)</span> will be <em>biased</em> - its distribution no longer has the true <span class="math inline">\(\beta_1\)</span> as its mean</li>
<li>In these cases we can say ” <span class="math inline">\(X\)</span> is <strong>endogenous</strong>” or “we have <strong>omitted variable bias</strong>”</li>
<li>No amount of additional sample size will fix that problem!</li>
<li>(what will fix the problem? We’ll get to that one later)</li>
</ul>
</section>
<section id="omitted-variable-bias" class="slide level2">
<h2>Omitted Variable Bias</h2>
<ul>
<li>We can intuitively think about whether omitted variable bias is likely to make our estimates too high or too low</li>
<li>The sign of the bias will be the sign of the relationship between the omitted variable and <span class="math inline">\(X\)</span>, <strong>times</strong> the sign of the relationship between the omitted variable bias and <span class="math inline">\(Y\)</span></li>
<li>InterestInSubject is positively related to both StudyTime and ClassGrade, and <span class="math inline">\(+\times+ = +\)</span>, so our estimates are positively biased / too high</li>
<li>More precisely we have that the mean of the <span class="math inline">\(\hat{\beta}_1\)</span> sampling distribution is <span class="math display">\[\beta_1 + corr(X,\varepsilon)\frac{\sigma_\varepsilon}{\sigma_X}\]</span></li>
</ul>
</section>
<section id="thinking-through-this-bias" class="slide level2">
<h2>Thinking Through this Bias</h2>
<ul>
<li>If <span class="math inline">\(Z\)</span> hangs around <span class="math inline">\(X\)</span>, but <span class="math inline">\(Y\)</span> doesn’t know about it, then the coefficient on <span class="math inline">\(X\)</span> will get all the credit for <span class="math inline">\(Z\)</span></li>
<li>This is a good way to keep that “direction of bias” problem in mind</li>
<li>And you do want to keep it in mind! This is important for understanding general correlations you see in the wild, too</li>
<li>And helps keep in line some things - for example, <strong>if <span class="math inline">\(Z\)</span> is unrelated to <span class="math inline">\(X\)</span>, it won’t bias you!!</strong></li>
</ul>
</section>
<section id="thinking-through-this-bias-1" class="slide level2">
<h2>Thinking Through this Bias</h2>
<ul>
<li>That means that when you’re thinking about the controls you <strong>need</strong>, that <strong>only</strong> includes things related to <span class="math inline">\(X\)</span></li>
<li>Adding controls for things related to <span class="math inline">\(Y\)</span> not <span class="math inline">\(X\)</span> can make the model predict better and reduce standard errors, but won’t remove omitted variable bias</li>
</ul>
</section>
<section id="less-serious-error-concerns" class="slide level2">
<h2>Less Serious Error Concerns</h2>
<ul>
<li>Omitted variable bias can, well, bias us, which is very bad</li>
<li>There are some other assumptions that can fail that may also pose a problem to us but less so</li>
<li>We’ve assumed so far not just that <span class="math inline">\(\varepsilon\)</span> is unrelated to <span class="math inline">\(X\)</span>, but also that the <em>variance</em> of <span class="math inline">\(\varepsilon\)</span> is unrelated to <span class="math inline">\(X\)</span>, and that the <span class="math inline">\(\varepsilon\)</span>s are unrelated to each other</li>
<li>If these assumptions fail, our standard errors will be wrong, but we won’t be biased, and also there are ways to fix the standard errors</li>
<li>We will cover these only briefly, they’ll come back later</li>
</ul>
</section>
<section id="heteroskedasticity" class="slide level2">
<h2>Heteroskedasticity</h2>
<ul>
<li>If the variance of the error term is different for different values of <span class="math inline">\(X\)</span>, then we have “heteroskedasticity”</li>
<li>Notice in the below graph how the spread of the points around the line (the variance of the error term) is bigger on the right than the left</li>
</ul>

<img data-src="slides_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid r-stretch" width="768"></section>
<section id="heteroskedasticity-1" class="slide level2">
<h2>Heteroskedasticity</h2>
<ul>
<li>We can correct for this using <em>heteroskedasticity-robust standard errors</em> which sort of “squash down” the big variances and then re-estimate the standard errors</li>
<li>We can do this in <code>feols</code> with <code>vcov = 'hetero'</code> in R or with “robust” in STATA</li>
</ul>
</section>
<section id="correlated-errors" class="slide level2">
<h2>Correlated Errors</h2>
<ul>
<li>If the error terms are <em>correlated with each other</em>, then our standard errors will also be wrong</li>
<li>How could this happen? For example, maybe you’ve surveyed a bunch of people in different towns - the error terms within a town might be <em>clustered</em></li>
<li>Or maybe you have time series data. If a term in the error term is “sticky” or has “momentum” it will likely be a similar error term a few time periods in a row, beign correlated across time, or <em>autocorrelated</em></li>
<li>Again, this doesn’t bias <span class="math inline">\(\hat{\beta}_1\)</span> but it can affect standard errors!</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="the-right-hand-side" class="title-slide slide level1">
<h1>The Right Hand Side</h1>
<ul>
<li>Today we’ll be focusing on the <em>right hand side</em> of a regression</li>
<li>Economists generally refer to a regression as having a “left-hand-side” of the dependent variable <span class="math inline">\(Y\)</span>, and a “right-hand-side” of all the independent stuff, like <span class="math inline">\(\beta_0 + \beta_1X + \beta_2Z + \varepsilon\)</span>.</li>
<li>So far, we’ve just tossed stuff on the right-hand side and called it our treatment variable or a control variable without thinking too much harder about it</li>
<li>Today we will think harder about it!</li>
</ul>
</section>
<section id="the-right-hand-side-1" class="slide level2">
<h2>The Right Hand Side</h2>
<p>We will look at three features of the right-hand side</p>
<ul>
<li>What if the variable is <em>categorical</em> or <em>binary</em>? (binary variables)</li>
<li>What if the variable has a <em>nonlinear effect</em> on <span class="math inline">\(Y\)</span> (polynomials and logarithms)</li>
<li>What if the effect of one variable <em>depends on the value of another variable?</em> (interaction terms)</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="binary-data" class="title-slide slide level1">
<h1>Binary Data</h1>

</section>
<section id="binary-data-1" class="slide level2">
<h2>Binary Data</h2>
<ul>
<li>A variable is binary if it only has two values - 0 or 1 (or “No” or “Yes”, etc.)</li>
<li>Binary variables are super common in econometrics!</li>
<li>Did you get the treatment? Yes / No</li>
<li>Do you live in the US? Yes / No</li>
<li>Is a floating exchange rate in effect? Yes / No</li>
</ul>
</section>
<section id="comparison-of-means" class="slide level2">
<h2>Comparison of Means</h2>
<ul>
<li>When a binary variable is an independent variable, what we are often interested in doing is <em>comparing means</em></li>
<li>Is mean income higher inside the US or outside?</li>
<li>Is mean height higher for kids who got a nutrition supplement or those who didn’t?</li>
<li>Is mean GDP growth higher with or without a floating exchange rate?</li>
</ul>
</section>
<section id="comparison-of-means-1" class="slide level2">
<h2>Comparison of Means</h2>
<ul>
<li>Let’s compare log earnings in 1993 between married people 30 or older vs.&nbsp;never-married people 30 or older</li>
<li>Seems to be a slight favor to the married men</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">data</span>(PSID, <span class="at">package =</span> <span class="st">'Ecdat'</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a>PSID <span class="ot">&lt;-</span> PSID <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="fu">filter</span>(age <span class="sc">&gt;=</span> <span class="dv">30</span>, married <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'married'</span>,<span class="st">'never married'</span>), earnings <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="fu">mutate</span>(<span class="at">married  =</span> married <span class="sc">==</span> <span class="st">'married'</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a>PSID <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>  <span class="fu">group_by</span>(married) <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>  <span class="fu">summarize</span>(<span class="at">log_earnings =</span> <span class="fu">mean</span>(<span class="fu">log</span>(earnings)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  married log_earnings
  &lt;lgl&gt;          &lt;dbl&gt;
1 FALSE           9.26
2 TRUE            9.47</code></pre>
</div>
</div>
</section>
<section id="comparison-of-means-2" class="slide level2">
<h2>Comparison of Means</h2>

<img data-src="slides_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid r-stretch" width="768"></section>
<section id="comparison-of-means-3" class="slide level2">
<h2>Comparison of Means</h2>
<ul>
<li>The <em>difference between the means</em> follows a t-distribution under the null that they’re identical</li>
<li>So of course we can do a hypothesis test of whether they’re different. But why bother trotting out a specific test when we can just do a regression?</li>
<li>(In fact, a lot of specific tests can be replaced with basic regression, see <a href="https://lindeloev.github.io/tests-as-linear/">this explainer</a>)</li>
</ul>
</section>
<section id="comparison-of-means-4" class="slide level2">
<h2>Comparison of Means</h2>
<p>Notice:</p>
<ul>
<li>The intercept gives the mean for the <em>non-married</em> group</li>
<li>The coefficient on <em>marriedTRUE</em> gives the married minus non-married difference</li>
<li>i.e.&nbsp;<em>the coefficient on a binary variable in a regression gives the difference in means</em></li>
<li>If we’d defined it the other way, with “not married” as the independent variable, the intercept would be the mean for the <em>married</em> group (i.e.&nbsp;“not married = 0”), and the coefficient would be the exact same but times <span class="math inline">\(-1\)</span> (same difference, just opposite direction!)</li>
</ul>
</section>
<section id="comparison-of-means-5" class="slide level2">
<h2>Comparison of Means</h2>
<p>Why does OLS give us a comparison of means when you give it a binary variable?</p>
<ul>
<li>The only <span class="math inline">\(X\)</span> values are 0 (FALSE) and 1 (TRUE)</li>
<li>Because of this, OLS no longer really fits a <em>line</em>, it’s more of two separate means</li>
<li>And when you’re estimating to minimize the sum of squared errors separately for each group, can’t do any better than to predict the mean!</li>
<li>So you get the mean of each group as each group’s prediction</li>
</ul>
</section>
<section id="binary-with-controls" class="slide level2">
<h2>Binary with Controls</h2>
<ul>
<li>Obviously this is handy for including binary controls, but why do this for binary treatments? Because we can add controls!</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                feols(log(earning..
Dependent Var.:       log(earnings)
                                   
Constant          8.740*** (0.1478)
marriedTRUE      0.3404*** (0.0579)
kids            -0.2259*** (0.0159)
age              0.0223*** (0.0038)
_______________ ___________________
S.E. type                       IID
Observations                  2,803
R2                          0.07609
Adj. R2                     0.07510
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="multicollinearity" class="slide level2">
<h2>Multicollinearity</h2>
<ul>
<li>Why is just one side of it on the regression? Why aren’t “married” and “not married” BOTH included?</li>
<li>Because regression couldn’t give an answer!</li>
</ul>
</section>
<section id="multicollinearity-1" class="slide level2">
<h2>Multicollinearity</h2>
<ul>
<li><p>Mean of married is <span class="math inline">\(9.47\)</span> and of non-married is <span class="math inline">\(9.26\)</span>. <span class="math display">\[ \log(Earnings) = 0 + 9.47Married + 9.26NonMarried \]</span> <span class="math display">\[ \log(Earnings) = 3 + 6.47Married + 6.26NonMarried \]</span></p></li>
<li><p>These (and infinitely many other options) all give the exact same predictions! OLS can’t pick between them. There’s no single best way to minimize squared residuals</p></li>
<li><p>So we pick one with convenient properties, setting one of the categories to have a coefficient of 0 (dropping it) and making the coefficient on the other <em>the difference relative to</em> the one we left out</p></li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="more-than-two-categories" class="title-slide slide level1">
<h1>More than Two Categories</h1>

</section>
<section id="more-than-two-categories-1" class="slide level2">
<h2>More than Two Categories</h2>
<ul>
<li>That interpretation - dropping one and making the other relative to <em>that</em>, conveniently extends to <em>multi-category variables</em></li>
<li>Why stop at binary categorical variables? There are plenty of categorical variables with more than two values</li>
<li>What is your education level? What is your religious denomination? What continent are you on?</li>
<li>We can put these in a regression by turning <em>each value</em> into its own binary variable</li>
<li>(and then dropping one so the coefficients on the others give you the difference with the omitted one)</li>
</ul>
</section>
<section id="concept-checks" class="slide level2">
<h2>Concept Checks</h2>
<ul>
<li>If <span class="math inline">\(X\)</span> is binary, in sentences interpret the coefficients from the estimated OLS equation <span class="math inline">\(Y = 4 + 3X + 2Z\)</span></li>
<li>How might a comparison of means come in handy if you wanted to analyze the results of a randomized policy experiment?</li>
<li>If you had a data set of people from every continent and added “continent” as a control, how many coefficients would this add to your model?</li>
<li>If in that regression you really wanted to compare Europe to Asia specifically, what might you do so that the regression made this easy?</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="interpreting-ols" class="title-slide slide level1">
<h1>Interpreting OLS</h1>

</section>
<section id="interpreting-ols-1" class="slide level2">
<h2>Interpreting OLS</h2>
<ul>
<li><p>To think more about the right-hand-side, let’s go back to our original interpretation of an OLS coefficient <span class="math display">\[ Y = \beta_0 + \beta_1X + \varepsilon \]</span></p></li>
<li><p>A one-unit change in <span class="math inline">\(X\)</span> is associated with a <span class="math inline">\(\beta_1\)</span>-unit change in <span class="math inline">\(Y\)</span></p></li>
<li><p>This logic still works with binary variables since “a one-unit change in <span class="math inline">\(X\)</span>” means “changing <span class="math inline">\(X\)</span> from No to Yes”</p></li>
<li><p>Notice that this assumes that a one-unit change in <span class="math inline">\(X\)</span> <em>always has the same effect</em> on <span class="math inline">\(\beta_1\)</span> no matter what else is going on</p></li>
<li><p>What if that’s not true?</p></li>
</ul>
</section>
<section id="functional-form" class="slide level2">
<h2>Functional Form</h2>
<ul>
<li>We talked before about times when a <em>linear model</em> like standard OLS might not be sufficient</li>
<li>However, as long as those <em>non</em>-linearities are on the right hand side, we can fix the problem easily but just having <span class="math inline">\(X\)</span> enter non-linearly! Run it through a <em>transformation</em>!</li>
<li>The most common transformations by far are <em>polynomials</em> and <em>logarithms</em></li>
</ul>
</section>
<section id="functional-form-1" class="slide level2">
<h2>Functional Form</h2>
<ul>
<li>Why do this? Because sometimes a straight line is clearly not going to do the trick!</li>
</ul>

<img data-src="slides_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid r-stretch" width="768"></section>
<section class="slide level2">

</section></section>
<section>
<section id="polynomials" class="title-slide slide level1">
<h1>Polynomials</h1>

</section>
<section id="polynomials-1" class="slide level2">
<h2>Polynomials</h2>
<ul>
<li><span class="math inline">\(\beta_1X\)</span> is a “first order polynomial” - there’s one term</li>
<li><span class="math inline">\(\beta_1X + \beta_2X^2\)</span> is a “second order polynomial” or a “quadratic” - two terms (note both included, it’s not just <span class="math inline">\(X^2\)</span>)</li>
<li><span class="math inline">\(\beta_1X + \beta_2X^2 + \beta_3X^3\)</span> is a third-order or cubic, etc.</li>
</ul>
</section>
<section id="polynomials-2" class="slide level2">
<h2>Polynomials</h2>
<p>What do they do?</p>
<ul>
<li>The more polynomial terms, the more flexible the line can be. With enough terms you can mimic <em>any</em> shape of relationship</li>
<li>Of course, if you just add a whole buncha terms, it gets very noisy, and prediction out-of-sample gets very bad</li>
<li>Keep it minimal - quadratics are almost always enough, unless you have reason to believe there’s a true more-complex relationship. You can try adding higher-order terms and see if they make a difference</li>
</ul>
</section>
<section id="polynomials-3" class="slide level2">
<h2>Polynomials</h2>
<ul>
<li>The true relationship is quadratic</li>
</ul>

<img data-src="slides_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid r-stretch" width="768"></section>
<section id="polynomials-4" class="slide level2">
<h2>Polynomials</h2>
<ul>
<li>Higher-order terms don’t do anything for us here (because a quadratic is sufficient!)</li>
</ul>

<img data-src="slides_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid r-stretch" width="768"></section>
<section id="polynomials-5" class="slide level2">
<h2>Polynomials</h2>
<ul>
<li>Interpret polynomials using the derivative</li>
<li><span class="math inline">\(\partial Y/\partial X\)</span> will be different depending on the value of <span class="math inline">\(X\)</span> (as it should! Notice in the graph that the slope changes for different values of <span class="math inline">\(X\)</span>)</li>
</ul>
<p><span class="math display">\[ Y = \beta_1X + \beta_2X^2 \]</span> <span class="math display">\[ \partial Y/\partial X = \beta_1 + 2\beta_2X \]</span></p>
<p>So at <span class="math inline">\(X = 0\)</span>, the effect of a one-unit change in <span class="math inline">\(X\)</span> is <span class="math inline">\(\beta_1\)</span>. At <span class="math inline">\(X = 1\)</span>, it’s <span class="math inline">\(\beta_1 + \beta_2\)</span>. At <span class="math inline">\(X = 5\)</span> it’s <span class="math inline">\(\beta_1 + 5\beta_2\)</span>.</p>
</section>
<section id="polynomials-6" class="slide level2">
<h2>Polynomials</h2>
<ul>
<li><strong>IMPORTANT</strong>: when you have a polynomial, <em>the coefficients on each individual term mean very little on their own</em>. You have to consider them alongisde the other coefficients from the polynomial! <strong>Never</strong> interpret <span class="math inline">\(\beta_1\)</span> here without thinking about <span class="math inline">\(\beta_2\)</span> alongside. Also, the significance of the individual terms doesn’t really matter - consider doing an F-test of all of them at once.</li>
</ul>
</section>
<section id="concept-check" class="slide level2">
<h2>Concept Check</h2>
<ul>
<li>What’s the effect of a one-unit change in <span class="math inline">\(X\)</span> at <span class="math inline">\(X = 0\)</span>, <span class="math inline">\(X = 1\)</span>, and <span class="math inline">\(X = 2\)</span> for each of these?</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                feols(Y ~ X, dat.. feols(Y ~ X + I(.. feols(Y ~ X + I(...1
Dependent Var.:                  Y                  Y                    Y
                                                                          
Constant         7.285*** (0.5660)   -0.1295 (0.3839)      0.0759 (0.5091)
X               -8.934*** (0.1953)   0.9779* (0.3831)      0.4542 (0.9331)
X square                           -2.003*** (0.0752)   -1.738*** (0.4368)
X cube                                                    -0.0354 (0.0574)
_______________ __________________ __________________   __________________
S.E. type                      IID                IID                  IID
Observations                   200                200                  200
R2                         0.91357            0.98122              0.98126
Adj. R2                    0.91313            0.98103              0.98097
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="logarithms" class="title-slide slide level1">
<h1>Logarithms</h1>

</section>
<section id="logarithms-1" class="slide level2">
<h2>Logarithms</h2>
<ul>
<li>Another common transformation, both for dependent and independent variables, is to take the logarithm</li>
<li>This has the effect of pulling in extreme values from strongly right-skewed data and making linear relationships pop out</li>
<li>Income, for example, is almost always used with a logarithm</li>
<li>It also gives the coefficients a nice percentage-based interpretation</li>
</ul>
</section>
<section id="logarithms-2" class="slide level2">
<h2>Logarithms</h2>

<img data-src="slides_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid r-stretch" width="768"></section>
<section id="or-if-you-prefer" class="slide level2">
<h2>Or if you prefer…</h2>
<ul>
<li>Notice the change in axes</li>
</ul>

<img data-src="slides_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid r-stretch" width="768"></section>
<section id="logarithms-3" class="slide level2">
<h2>Logarithms</h2>
<ul>
<li>How can we interpret them?</li>
<li>The key is to remember that <span class="math inline">\(\log(X) + a \approx \log((1+a)X)\)</span>, meaning that a <span class="math inline">\(a\)</span>-unit change in <span class="math inline">\(log(X)\)</span> is similar to a <span class="math inline">\(a\times100%\)</span> change in <span class="math inline">\(X\)</span></li>
<li>So, walk through our “one-unit change in the variable” logic from before, but whenever we hit a log, change that into a percentage!</li>
</ul>
</section>
<section id="logarithms-4" class="slide level2">
<h2>Logarithms</h2>
<ul>
<li><span class="math inline">\(Y = \beta_0 + \beta_1\log(X)\)</span> A one-unit change in <span class="math inline">\(\log(X)\)</span>, or a 100% change in <span class="math inline">\(X\)</span>, is associated with a <span class="math inline">\(\beta_1\)</span>-unit change in <span class="math inline">\(Y\)</span></li>
<li><span class="math inline">\(\log(Y) = \beta_0 + \beta_1X\)</span> a one-unit change in <span class="math inline">\(X\)</span> is associated with a <span class="math inline">\(\beta_1\times 100\)</span>% change in <span class="math inline">\(Y\)</span></li>
<li><span class="math inline">\(\log(Y) = \beta_0 + \beta_1\log(X)\)</span> A one-unit change in <span class="math inline">\(\log(X)\)</span>, or a or a 100% change in <span class="math inline">\(X\)</span>, is associated with a <span class="math inline">\(\beta_1\)</span>-unit change in <span class="math inline">\(\log(Y)\)</span>, or a <span class="math inline">\(\beta_1\times100\)</span>% change in <span class="math inline">\(Y\)</span>.</li>
<li>(Try also with changes smaller than one unit - that’s usually more reasonable)</li>
</ul>
</section>
<section id="logarithms-5" class="slide level2">
<h2>Logarithms</h2>
<p>Downsides:</p>
<ul>
<li>Logarithms require that all data be positive. No negatives or zeroes!</li>
<li>Fairly rare that a variable with negative values wants a log anyway</li>
<li>But zeroes are common! A common practice is to just do <span class="math inline">\(log(X+1)\)</span> but this is pretty arbitrary</li>
</ul>
</section>
<section id="functional-form-2" class="slide level2">
<h2>Functional Form</h2>
<ul>
<li>In general, you want the shape of your function to match the shape of the relationship in the data (or, even better, the true relationship)</li>
<li>Polynomials and logs can usually get you there!</li>
<li>Which to use? Use logs for highly skewed data or variables with exponential relationships</li>
<li>Use polynomials if it doesn’t look straight! <strong>Check that scatterplot and see how not-straight it is!</strong></li>
</ul>
</section>
<section id="concept-checks-1" class="slide level2">
<h2>Concept Checks</h2>
<ul>
<li>Which of the following variables would you likely want to log before using them? Income, height, wealth, company size, home square footage</li>
<li>In each of the following estimated OLS lines, interpret the coefficient by filling in “A [blank] change in X is associated with a [blank] change in Y”:</li>
</ul>
<p><span class="math display">\[ Y = 1 + 2\log(X) \]</span> <span class="math display">\[ \log(Y) = 3 + 2\log(X) \]</span></p>
<p><span class="math display">\[ \log(Y) = 4 + 3X \]</span></p>
</section>
<section id="interactions" class="slide level2">
<h2>Interactions</h2>
<ul>
<li>For both polynomials and logarithms, the effect of a one-unit change in <span class="math inline">\(X\)</span> differs depending on its current value (for logarithms, a 1-unit change in <span class="math inline">\(X\)</span> is different percentage changes in <span class="math inline">\(X\)</span> depending on current value)</li>
<li>But why stop there? Maybe the effect of <span class="math inline">\(X\)</span> differs depending on the current value of <em>other variables!</em></li>
<li>Enter interaction terms!</li>
</ul>
<p><span class="math display">\[ Y = \beta_0 + \beta_1X + \beta_2Z + \beta_3X\times Z + \varepsilon \]</span> - Interaction terms are <em>a little tough</em> but also <strong>extremely important</strong>.</p>
</section>
<section id="interactions-1" class="slide level2">
<h2>Interactions</h2>
<p>Expect to come back to these slides, as you’re almost certainly going to use interaction terms in both our assessment and the dissertation</p>
</section>
<section id="interactions-2" class="slide level2">
<h2>Interactions</h2>
<ul>
<li>Change in the value of a <em>control</em> can shift a regression line up and down</li>
<li>Using the model <span class="math inline">\(Y = \beta_0 + \beta_1X + \beta_2Z\)</span>, estimated as <span class="math inline">\(Y = .01 + 1.2X + .95Z\)</span>:</li>
</ul>

<img data-src="slides_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid r-stretch" width="768"></section>
<section id="interactions-3" class="slide level2">
<h2>Interactions</h2>
<ul>
<li>But an interaction can both shift the line up and down AND change its slope</li>
<li>Using the model <span class="math inline">\(Y = \beta_0 + \beta_1X + \beta_2Z + \beta_3X\times Z\)</span>, estimated as <span class="math inline">\(Y = .035 + 1.14X + .94Z + 1.02X\times Z\)</span>:</li>
</ul>

<img data-src="slides_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid r-stretch" width="768"></section>
<section id="interactions-4" class="slide level2">
<h2>Interactions</h2>
<ul>
<li>How can we interpret an interaction?</li>
<li>The idea is that the interaction shows how <em>the effect of one variable changes as the value of the other changes</em></li>
<li>The derivative helps!</li>
</ul>
<p><span class="math display">\[ Y = \beta_0 + \beta_1X + \beta_2Z + \beta_3X\times Z \]</span> <span class="math display">\[ \partial Y/\partial X = \beta_1 + \beta_3 Z \]</span></p>
<ul>
<li>The effect of <span class="math inline">\(X\)</span> is <span class="math inline">\(\beta_1\)</span> when <span class="math inline">\(Z = 0\)</span>, or <span class="math inline">\(\beta_1 + \beta_3\)</span> when <span class="math inline">\(Z = 1\)</span>, or <span class="math inline">\(\beta_1 + 3\beta_3\)</span> if <span class="math inline">\(Z = 3\)</span>!</li>
</ul>
</section>
<section id="interactions-5" class="slide level2">
<h2>Interactions</h2>
<ul>
<li>Often we are doing interactions with binary variables to see how an effect differs across groups</li>
<li>Now, instead of the intercept giving the baseline and the binary coefficient giving the difference, the coefficient on <span class="math inline">\(X\)</span> is the baseline effect of <span class="math inline">\(X\)</span> and the interaction is the difference in the effect of <span class="math inline">\(X\)</span></li>
<li>The interaction coefficient becomes “the difference in the effect of <span class="math inline">\(X\)</span> between the <span class="math inline">\(Z\)</span> =”No” and <span class="math inline">\(Z\)</span> = “Yes” groups”</li>
<li>(What if it’s continuous? Mathematically the same but the thinking changes - the interaction term is the difference in the effect of <span class="math inline">\(X\)</span> you get when increasing <span class="math inline">\(Z\)</span> by one unit)</li>
</ul>
</section>
<section id="interactions-6" class="slide level2">
<h2>Interactions</h2>
<ul>
<li>Marriage for those without a college degree raises earnings by 24%. A college degree reduces the marriage premium by 25%. Marriage for those with a college degree reduces earnings by .24 - .25 = -1%</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                          feols(log(earnin..
Dependent Var.:                log(earnings)
                                            
Constant                   9.087*** (0.0583)
marriedTRUE               0.2381*** (0.0638)
collegeTRUE               0.8543*** (0.1255)
marriedTRUE x collegeTRUE  -0.2541. (0.1363)
_________________________ __________________
S.E. type                                IID
Observations                           2,803
R2                                   0.06253
Adj. R2                              0.06153
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="notes-on-interactions" class="slide level2">
<h2>Notes on Interactions</h2>
<ul>
<li>Like with polynomials, the coefficients on their own now have little meaning and must be evaluated alongside each other. <span class="math inline">\(\beta_1\)</span> by itself is just “the effect of <span class="math inline">\(X\)</span> when <span class="math inline">\(Z = 0\)</span>”, not “the effect of <span class="math inline">\(X\)</span>”</li>
<li>Yes, you <em>do</em> almost always want to include both variables in un-interacted form and interacted form. Otherwise the interpretation gets very thorny</li>
</ul>
</section>
<section id="notes-on-interactions-1" class="slide level2">
<h2>Notes on Interactions</h2>
<ul>
<li>Interaction effects are <em>poorly powered</em>. You need a <em>lot</em> of data to be able to tell whether an effect is different in two groups. If <span class="math inline">\(N\)</span> observations is adequate power to see if the effect itself is different from zero, you need a sample of roughly <span class="math inline">\(16\times N\)</span> to see if the difference in effects is nonzero. Sixteen times!!</li>
<li>It’s tempting to try interacting your effect with everything to see if it’s bigger/smaller/nonzero in some groups, but because it’s poorly powered, this is a bad idea! You’ll get a lot of false positives</li>
</ul>


<img src="../../../figures/logos/MY_INSTITUTION.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>PB4A7- Quantitative Applications for Behavioural Science</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>