<!DOCTYPE html>
<html lang="en"><head>
<link href="../../../figures/icons/course_favicon.png" rel="icon" type="image/png">
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Dr.&nbsp;George Melios">
  <meta name="dcterms.date" content="18 September 2023">
  <title>PB4A7 - Quantitative Applications for Behavioural Science - üóìÔ∏è Week 8 Regresssion Discontinuity Designs</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="../../../css/styles_slides.css">
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="PB4A7 - Quantitative Applications for Behavioural Science - üóìÔ∏è Week 8 Regresssion Discontinuity Designs">
<meta property="og:description" content="PB4A7- Quantitative Applications for Behavioural Science">
<meta property="og:site-name" content="PB4A7 - Quantitative Applications for Behavioural Science">
<meta name="twitter:title" content="PB4A7 - Quantitative Applications for Behavioural Science - üóìÔ∏è Week 8 Regresssion Discontinuity Designs">
<meta name="twitter:description" content="PB4A7- Quantitative Applications for Behavioural Science">
<meta name="twitter:creator" content="@georgemelios">
<meta name="twitter:site" content="\www.georgemelios.com">
<meta name="twitter:card" content="summary">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block">
  <h1 class="title"><font style="font-size:1em;">üóìÔ∏è Week 8<br> Regresssion Discontinuity Designs</font></h1>
  <p class="subtitle">PB4A7- Quantitative Applications for Behavioural Science</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Dr.&nbsp;<a href="#/">George Melios</a> 
</div>
        <p class="quarto-title-affiliation">
            <a href="#/">London School of Economics and Political Science</a>
          </p>
    </div>
</div>

  <p class="date">18 Sep 2023</p>
</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">The burpees of causal inference</h2>
<ul>
<li><a href="#/check-in" id="/toc-check-in">Check-in</a></li>
<li><a href="#/regression-discontinuity" id="/toc-regression-discontinuity">Regression Discontinuity</a></li>
<li><a href="#/regression-discontinuity-1" id="/toc-regression-discontinuity-1">Regression Discontinuity</a></li>
<li><a href="#/regression-discontinuity-2" id="/toc-regression-discontinuity-2">Regression Discontinuity</a></li>
<li><a href="#/regression-discontinuity-3" id="/toc-regression-discontinuity-3">Regression Discontinuity</a></li>
<li><a href="#/regression-discontinuity-4" id="/toc-regression-discontinuity-4">Regression Discontinuity</a></li>
<li><a href="#/regression-discontinuity-5" id="/toc-regression-discontinuity-5">Regression Discontinuity</a></li>
<li><a href="#/regression-discontinuity-6" id="/toc-regression-discontinuity-6">Regression Discontinuity</a></li>
<li><a href="#/regression-discontinuity-7" id="/toc-regression-discontinuity-7">Regression Discontinuity</a></li>
<li><a href="#/concept-checks" id="/toc-concept-checks">Concept Checks</a></li>
<li><a href="#/fitting-lines-in-rdd" id="/toc-fitting-lines-in-rdd">Fitting Lines in RDD</a></li>
<li><a href="#/fitting-lines-in-rdd-1" id="/toc-fitting-lines-in-rdd-1">Fitting Lines in RDD</a></li>
<li><a href="#/regression-in-rdd" id="/toc-regression-in-rdd">Regression in RDD</a></li>
<li><a href="#/varying-slope" id="/toc-varying-slope">Varying Slope</a></li>
<li><a href="#/varying-slope-1" id="/toc-varying-slope-1">Varying Slope</a></li>
<li><a href="#/polynomial-terms" id="/toc-polynomial-terms">Polynomial Terms</a></li>
<li><a href="#/polynomial-terms-1" id="/toc-polynomial-terms-1">Polynomial Terms</a></li>
<li><a href="#/concept-checks-1" id="/toc-concept-checks-1">Concept Checks</a></li>
<li><a href="#/assumptions" id="/toc-assumptions">Assumptions</a></li>
<li><a href="#/graphically" id="/toc-graphically">Graphically</a></li>
<li><a href="#/other-difficulties" id="/toc-other-difficulties">Other Difficulties</a></li>
<li><a href="#/windows" id="/toc-windows">Windows</a></li>
<li><a href="#/windows-1" id="/toc-windows-1">Windows</a></li>
<li><a href="#/granular-running-variable" id="/toc-granular-running-variable">Granular Running Variable</a></li>
<li><a href="#/granular-running-variable-1" id="/toc-granular-running-variable-1">Granular Running Variable</a></li>
<li><a href="#/looking-for-lumping" id="/toc-looking-for-lumping">Looking for Lumping</a></li>
<li><a href="#/looking-for-lumping-1" id="/toc-looking-for-lumping-1">Looking for Lumping</a></li>
<li><a href="#/looking-for-lumping-2" id="/toc-looking-for-lumping-2">Looking for Lumping</a></li>
<li><a href="#/looking-for-lumping-3" id="/toc-looking-for-lumping-3">Looking for Lumping</a></li>
<li><a href="#/looking-for-lumping-4" id="/toc-looking-for-lumping-4">Looking for Lumping</a></li>
<li><a href="#/looking-for-lumping-5" id="/toc-looking-for-lumping-5">Looking for Lumping</a></li>
<li><a href="#/fuzzy-regression-discontinuity" id="/toc-fuzzy-regression-discontinuity">Fuzzy Regression Discontinuity</a></li>
<li><a href="#/fuzzy-regression-discontinuity-1" id="/toc-fuzzy-regression-discontinuity-1">Fuzzy Regression Discontinuity</a></li>
<li><a href="#/fuzzy-regression-discontinuity-2" id="/toc-fuzzy-regression-discontinuity-2">Fuzzy Regression Discontinuity</a></li>
<li><a href="#/fuzzy-regression-discontinuity-3" id="/toc-fuzzy-regression-discontinuity-3">Fuzzy Regression Discontinuity</a></li>
<li><a href="#/fuzzy-regression-discontinuity-4" id="/toc-fuzzy-regression-discontinuity-4">Fuzzy Regression Discontinuity</a></li>
<li><a href="#/concept-checks-2" id="/toc-concept-checks-2">Concept Checks</a></li>
<li><a href="#/regression-discontinuity-in-r" id="/toc-regression-discontinuity-in-r">Regression Discontinuity in R</a></li>
<li><a href="#/regression-discontinuity-in-r-1" id="/toc-regression-discontinuity-in-r-1">Regression Discontinuity in R</a></li>
<li><a href="#/rdrobust" id="/toc-rdrobust">rdrobust</a></li>
<li><a href="#/rdrobust-1" id="/toc-rdrobust-1">rdrobust</a></li>
<li><a href="#/rdrobust-2" id="/toc-rdrobust-2">rdrobust</a></li>
<li><a href="#/thats-it" id="/toc-thats-it">That‚Äôs it!</a></li>
</ul>
</nav>
</section>
<section class="slide level2">

<div class="cell">
<style type="text/css">
pre {
  max-height: 350px;
  overflow-y: auto;
}

pre[class] {
  max-height: 100px;
}
</style>
</div>
</section>
<section>
<section id="check-in" class="title-slide slide level1">
<h1>Check-in</h1>
<ul>
<li>We‚Äôre thinking through ways that we can identify the effect of interest without having to control for everything</li>
<li>One way is by focusing on <em>within variation</em> - if all the endogeneity can be controlled for or only varies between-individuals, we can just focus on within variation to identify it</li>
<li>Pro: control for a bunch of stuff</li>
<li>Con: washes out a lot of variation! Result can be noisier if there‚Äôs not much within-variation to work with</li>
<li>Also, this requires no endogenous variation over time</li>
<li>That might be a tricky assumption! Often there are plenty of back doors that shift over time</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity" class="title-slide slide level1">
<h1>Regression Discontinuity</h1>
<ul>
<li>Today we are going to talk about Regression discontinuity design (RDD)</li>
<li>RDD is currently the darling of the econometric world for estimating causal effects without running an experiment</li>
<li>It doesn‚Äôt apply everywhere, but when it does, it‚Äôs very easy to buy the identification assumptions</li>
<li>Not that it doesn‚Äôt have its own issues, of course, but it‚Äôs pretty good!</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-1" class="title-slide slide level1">
<h1>Regression Discontinuity</h1>
<p>The basic idea is this:</p>
<ul>
<li>We look for a treatment that is assigned on the basis of being above/below a <em>cutoff value</em> of a continuous variable</li>
<li>For example, if you get above a certain test score they let you into a ‚Äúgifted and talented‚Äù program</li>
<li>Or if you are just on one side of a time zone line, your day starts one hour earlier/later</li>
<li>Or if a candidate gets 50.1% of the vote they‚Äôre in, 40.9% and they‚Äôre out</li>
<li>Or if you‚Äôre 65 years old you get Medicaid, if you‚Äôre 64.99 years old you don‚Äôt</li>
</ul>
<p>We call these continuous variables ‚ÄúRunning variables‚Äù because we <em>run along them</em> until we hit the cutoff</p>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-2" class="title-slide slide level1">
<h1>Regression Discontinuity</h1>
<ul>
<li>But wait, hold on, if treatment is driven by running variables, won‚Äôt we have a back door going through those very same running variables?? Yes!</li>
<li>And we can‚Äôt just control for RunningVar because that‚Äôs where all the variation in treatment comes from. Uh oh!</li>
</ul>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-2-1.png" class="img-fluid r-stretch" width="768"></section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-3" class="title-slide slide level1">
<h1>Regression Discontinuity</h1>
<ul>
<li>The key here is realizing that the running variable affects treatment <em>only when you go across the cutoff</em></li>
<li>So really the diagram looks like this!</li>
</ul>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-3-1.png" class="img-fluid r-stretch" width="768"></section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-4" class="title-slide slide level1">
<h1>Regression Discontinuity</h1>
<ul>
<li>So what does this mean?</li>
<li>If we can control for the running variable <em>everywhere except the cutoff</em>, then‚Ä¶</li>
<li>We will be controlling for the running variable, closing that back door</li>
<li>But leaving variation at the cutoff open, allowing for variation in treatment</li>
<li>We focus on just the variation around the treatment, narrowing the range of the running variable we use so sharply that it‚Äôs basically controlled for. Then the effect of cutoff on treatment is like an experiment!</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-5" class="title-slide slide level1">
<h1>Regression Discontinuity</h1>
<ul>
<li>Basically, the idea is that <em>right around the cutoff</em>, treatment is randomly assigned</li>
<li>If you have a test score of 89.9 (not high enough for gifted-and-talented), you‚Äôre basically the same as someone who has a test score of 90.0 (just barely high enough)</li>
<li>So if we just focus around the cutoff, we close any back doors because it‚Äôs basically random which side of the line you‚Äôre on</li>
<li>But we get variation in treatment!</li>
<li>This specifically gives us the effect of treatment <em>for people who are right around the cutoff</em> a.k.a. a ‚Äúlocal average treatment effect‚Äù (we still won‚Äôt know the effect of being put in gifted-and-talented for someone who gets a 30)</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-6" class="title-slide slide level1">
<h1>Regression Discontinuity</h1>
<ul>
<li>A very basic idea of this, before we even get to regression, is to create a <em>binned chart</em></li>
<li>And see how the bin values jump at the cutoff</li>
<li>A binned chart chops the Y-axis up into bins</li>
<li>Then takes the average Y value within that bin. That‚Äôs it!</li>
<li>Then, we look at how those X bins relate to the Y binned values.</li>
<li>If it looks like a pretty normal, continuous relationship‚Ä¶ then JUMPS UP at the cutoff X-axis value, that tells us that the treatment itself must be doing something!</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-7" class="title-slide slide level1">
<h1>Regression Discontinuity</h1>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-4-1.gif" class="img-fluid r-stretch"></section>
<section class="slide level2">

</section></section>
<section>
<section id="concept-checks" class="title-slide slide level1">
<h1>Concept Checks</h1>
<ul>
<li>Why is it important that we look as norrowly as possible around the cutoff? What does this get us over comparing the entire treated and untreated groups?</li>
<li>Can you think of an example of a treatment that is assigned at least partially on a cutoff?</li>
<li>Why can‚Äôt we just control for the running variable as we normally would to solve the endogeneity problem?</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fitting-lines-in-rdd" class="title-slide slide level1">
<h1>Fitting Lines in RDD</h1>
<ul>
<li>Looking purely just at the cutoff and making no use of the space <em>away</em> from the cutoff throws out a lot of useful information</li>
<li>We know that the running variable is related to outcome, so we can probably improve our <em>prediction</em> of what the value on either side of the cutoff should be if we <em>use data away from the cutoff to help with prediction</em> than if we <em>just use data near the cutoff</em>, which is what that animation does</li>
<li>We can do this with good ol‚Äô OLS.</li>
<li>The bin plot we did can help us pick a functional form for the slope</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fitting-lines-in-rdd-1" class="title-slide slide level1">
<h1>Fitting Lines in RDD</h1>
<ul>
<li>To be clear, producing the line(s) below is our goal. How can we do it?</li>
<li>The true model I‚Äôve made is an RDD effect of .7, with a slope of 1 to the left of the cutoff and a slope of 1.5 to the right</li>
</ul>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-5-1.png" class="img-fluid r-stretch" width="768"></section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-in-rdd" class="title-slide slide level1">
<h1>Regression in RDD</h1>
<ul>
<li>First, we need to <em>transform our data</em></li>
<li>We need a ‚ÄúTreated‚Äù variable that‚Äôs <code>TRUE</code> when treatment is applied - above or below the cutoff</li>
<li>Then, we are going to want a bunch of things to change at the cutoff. This will be easier if the running variable is <em>centered around the cutoff</em>. So we‚Äôll turn our running variable <span class="math inline">\(X\)</span> into <span class="math inline">\(X - cutoff\)</span> and call that <span class="math inline">\(XCentered\)</span></li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="varying-slope" class="title-slide slide level1">
<h1>Varying Slope</h1>
<ul>
<li>Typically, you will want to let the slope vary to either side</li>
<li>In effect, we are fitting an entirely different regression line on each side of the cutoff</li>
<li>We can do this by interacting both slope and intercept with <span class="math inline">\(treated\)</span>!</li>
<li>Coefficient on Treated is how the intercept jumps - that‚Äôs our RDD effect. Coefficient on the interaction is how the slope changes</li>
</ul>
<p><span class="math display">\[Y = \beta_0 + \beta_1Treated + \beta_2XCentered + \beta_3Treated\times XCentered + \varepsilon\]</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: Y
Observations: 1,000 
Standard-errors: IID 
                        Estimate Std. Error   t value   Pr(&gt;|t|)    
(Intercept)            -0.011133   0.025999 -0.428225 0.66857986    
treatedTRUE             0.746688   0.037577 19.870777  &lt; 2.2e-16 ***
X_centered              0.982500   0.090666 10.836522  &lt; 2.2e-16 ***
treatedTRUE:X_centered  0.446961   0.129613  3.448417 0.00058748 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.296605   Adj. R2: 0.847229</code></pre>
</div>
</div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="varying-slope-1" class="title-slide slide level1">
<h1>Varying Slope</h1>
<p>(as an aside, sometimes the effect of interest is the interaction term - the change in slope! This answers the question ‚Äúdoes the effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span> change at the cutoff? This is called a‚Äùregression kink‚Äù design. We won‚Äôt go more into it here, but it is out there!)</p>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="polynomial-terms" class="title-slide slide level1">
<h1>Polynomial Terms</h1>
<ul>
<li>We don‚Äôt need to stop at linear slopes!</li>
<li>Just like we brought in our knowledge of binary and interaction terms to understand the linear slope change, we can bring in polynomials too. Add a square maybe!</li>
<li>Don‚Äôt get too wild with cubes, quartics, etc. - polynomials tend to be at their ‚Äúweirdest‚Äù near the edges, and we don‚Äôt want super-weird predictions right at the cutoff. It could give us a mistaken result!</li>
<li>A square term should be enough</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="polynomial-terms-1" class="title-slide slide level1">
<h1>Polynomial Terms</h1>
<ul>
<li>How do we do this? Interactions again. Take <em>any</em> regression equation‚Ä¶</li>
</ul>
<p><span class="math display">\[Y = \beta_0 + \beta_1X + \beta_2X^2 + \varepsilon\]</span></p>
<ul>
<li>And just center the <span class="math inline">\(X\)</span> (let‚Äôs call it <span class="math inline">\(XC\)</span>, add on a set of the same terms multiplied by <span class="math inline">\(Treated\)</span> (don‚Äôt forget <span class="math inline">\(Treated\)</span> by itself - that‚Äôs <span class="math inline">\(Treated\)</span> times the interaction!)</li>
</ul>
<p><span class="math display">\[Y = \beta_0 + \beta_1XC + \beta_2XC^2 + \beta_3Treated + \beta_4Treated\times XC + \beta_5Treated\times XC^2 + \varepsilon\]</span></p>
<ul>
<li>The coefficient on <span class="math inline">\(Treated\)</span> remains our ‚Äújump at the cutoff‚Äù - our RDD estimate!</li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                              feols(Y ~ X_cent..
Dependent Var.:                                Y
                                                
Constant                        -0.0340 (0.0385)
X_centered                      0.6990. (0.3641)
treatedTRUE                   0.7677*** (0.0577)
X_centered square               -0.5722 (0.7117)
X_centered x treatedTRUE         0.7509 (0.5359)
treatedTRUE x I(X_centered^2)     0.5319 (1.034)
_____________________________ __________________
S.E. type                                    IID
Observations                               1,000
R2                                       0.84779
Adj. R2                                  0.84702
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="concept-checks-1" class="title-slide slide level1">
<h1>Concept Checks</h1>
<ul>
<li>Would the coefficient on <span class="math inline">\(Treated\)</span> still be the regression discontinuity effect estimate if we hadn‚Äôt centered <span class="math inline">\(X\)</span>? Why or why not?</li>
<li>Why might we want to use a polynomial term in our RDD model?</li>
<li>What relationship are we assuming between the outcome variable and the running variable if we choose not to include <span class="math inline">\(XCentered\)</span> in our model at all (i.e.&nbsp;a ‚Äúzero-order polynomial‚Äù)</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="assumptions" class="title-slide slide level1">
<h1>Assumptions</h1>
<ul>
<li>We knew there must be some assumptions lurking around here</li>
<li>Some are more obvious (we should be using the correct functional form)</li>
<li>Others are trickier. What are we assuming about the error term and endogeneity here?</li>
<li>Specifically, we are assuming that <em>the only thing jumping at the cutoff is treatment</em></li>
<li>Sort of like parallel trends, but maybe more believable since we‚Äôve narrowed in so far</li>
<li>For example, if having an income below 150% of the poverty line gets you access to food stamps AND to job training, then we can‚Äôt really use that cutoff to get the effect of just food stamps</li>
<li>Or if the proportion of people who are self-employed jumps up just below 150% (based on <em>reported</em> income), that‚Äôs a back door too!</li>
<li>The only thing different about just above/just below should be treatment</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="graphically" class="title-slide slide level1">
<h1>Graphically</h1>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-9-1.gif" class="img-fluid r-stretch"></section>
<section class="slide level2">

</section></section>
<section>
<section id="other-difficulties" class="title-slide slide level1">
<h1>Other Difficulties</h1>
<p>More assumptions, limitations, and diagnostics!</p>
<ul>
<li>Windows</li>
<li>Granular running variables</li>
<li>Manipulated running variables</li>
<li>Fuzzy regression discontinuity</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="windows" class="title-slide slide level1">
<h1>Windows</h1>
<ul>
<li>The basic idea of RDD is that we‚Äôre interested in <em>the cutoff</em></li>
<li>The points away from the cutoff are only useful in helping us predict values at the cutoff</li>
<li>Do we really want that full range? Is someone‚Äôs test score of 30 really going to help us much in predicting <span class="math inline">\(Y\)</span> at a test score of 89?</li>
<li>So we might limit our analysis within just a narrow window around the cutoff, just like that initial animation we saw!</li>
<li>This makes the exogenous-at-the-jump assumption more plausible, and lets us worry less about functional form (over a narrow range, not too much difference between a linear term and a square), but on the flip side reduces our sample size considerably</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="windows-1" class="title-slide slide level1">
<h1>Windows</h1>
<ul>
<li>Pay attention to the sample sizes, accuracy (true value .7) and standard errors!</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">feols</span>(Y<span class="sc">~</span>treated<span class="sc">*</span>X_centered, <span class="at">data =</span> df)</span>
<span id="cb3-2"><a href="#cb3-2"></a>m2 <span class="ot">&lt;-</span> <span class="fu">feols</span>(Y<span class="sc">~</span>treated<span class="sc">*</span>X_centered, <span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">abs</span>(X_centered) <span class="sc">&lt;</span> .<span class="dv">25</span>))</span>
<span id="cb3-3"><a href="#cb3-3"></a>m3 <span class="ot">&lt;-</span> <span class="fu">feols</span>(Y<span class="sc">~</span>treated<span class="sc">*</span>X_centered, <span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">abs</span>(X_centered) <span class="sc">&lt;</span> .<span class="dv">1</span>))</span>
<span id="cb3-4"><a href="#cb3-4"></a>m4 <span class="ot">&lt;-</span> <span class="fu">feols</span>(Y<span class="sc">~</span>treated<span class="sc">*</span>X_centered, <span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">abs</span>(X_centered) <span class="sc">&lt;</span> .<span class="dv">05</span>))</span>
<span id="cb3-5"><a href="#cb3-5"></a>m5 <span class="ot">&lt;-</span> <span class="fu">feols</span>(Y<span class="sc">~</span>treated<span class="sc">*</span>X_centered, <span class="at">data =</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">abs</span>(X_centered) <span class="sc">&lt;</span> .<span class="dv">01</span>))</span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="fu">etable</span>(m1,m2,m3,m4,m5, <span class="at">keep =</span> <span class="st">'treatedTRUE'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                         m1                 m2
Dependent Var.:                           Y                  Y
                                                              
treatedTRUE              0.7467*** (0.0376) 0.7723*** (0.0566)
treatedTRUE x X_centered 0.4470*** (0.1296)   0.6671. (0.4022)
________________________ __________________ __________________
S.E. type                               IID                IID
Observations                          1,000                492
R2                                  0.84769            0.74687
Adj. R2                             0.84723            0.74531

                                         m3                 m4              m5
Dependent Var.:                           Y                  Y               Y
                                                                              
treatedTRUE              0.7086*** (0.0900) 0.6104*** (0.1467) 0.5585 (0.4269)
treatedTRUE x X_centered     -1.307 (1.482)      6.280 (4.789)   41.21 (72.21)
________________________ __________________ __________________ _______________
S.E. type                               IID                IID             IID
Observations                            206                 93              15
R2                                  0.69322            0.59825         0.48853
Adj. R2                             0.68867            0.58470         0.34904
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="granular-running-variable" class="title-slide slide level1">
<h1>Granular Running Variable</h1>
<ul>
<li>One assumption we‚Äôre making is that the running variable varies more or less <em>continuously</em></li>
<li>That makes it possible to have, say, a test score of 89 compared to a test score of 90 it‚Äôs almost certainly the same as except for random chance</li>
<li>But what if our data only had test score in big chunks? I don‚Äôt know you‚Äôre 89 or 90, I just know you‚Äôre ‚Äú80-89‚Äù or ‚Äú90-100‚Äù</li>
<li>A lot less believable that the only difference between these groups is random chance and we‚Äôve closed the back doors by focusing on the cutoff</li>
<li>Plenty of other things change between 80 and 100! That‚Äôs not ‚Äúsmooth at the cutoff‚Äù</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="granular-running-variable-1" class="title-slide slide level1">
<h1>Granular Running Variable</h1>
<ul>
<li>Not a whole lot we can do about this</li>
<li>There are some fancy RDD estimators that allow for granular running variables</li>
<li>But in general, if this is what you‚Äôre facing, you might be in trouble</li>
<li>Before doing an RDD, think ‚Äúis it plausible that someone with the highest value just below the cutoff, and someone with the lowest value just above the cutoff are only at different values because of random chance?‚Äù</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="looking-for-lumping" class="title-slide slide level1">
<h1>Looking for Lumping</h1>
<ul>
<li>Ok, now let‚Äôs go back to our continuous running variables</li>
<li>What if the running variable is <em>manipulated</em>?</li>
<li>Imagine you‚Äôre a teacher grading the gifted-and-talented exam. You see someone with an 89 and think ‚Äúaww, they‚Äôre so close! I‚Äôll just give them an extra point‚Ä¶‚Äù</li>
<li>Or, if you live just barely on one side of a time zone line, but decide to move to the other side because you prefer waking up later</li>
<li>Suddenly, that treatment is a lot less randomly assigned around the cutoff!</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="looking-for-lumping-1" class="title-slide slide level1">
<h1>Looking for Lumping</h1>
<ul>
<li>If there‚Äôs manipulation of the running variable around the cutoff, we can often see it in the presence of <em>lumping</em></li>
<li>I.e. if there‚Äôs a big cluster of observations to one side of the cutoff and a seeming gap missing on the other side</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="looking-for-lumping-2" class="title-slide slide level1">
<h1>Looking for Lumping</h1>
<ul>
<li>Here‚Äôs an example from the real world in medical research - statistically, p-values <em>should</em> be uniformly distributed</li>
<li>But it‚Äôs hard to get insignificant results published in some journals. So people might ‚Äúp-hack‚Äù until they find some form of analysis that‚Äôs significant, and also we have heavy selection into publication based on <span class="math inline">\(p &lt; .05\)</span>. Can‚Äôt use that cutoff for an RDD!</li>
</ul>

<img data-src="p_value_distribution.png" class="img-fluid r-stretch quarto-figure-center"><p class="caption">p-value graph from Perneger &amp; Combescure, 2017</p></section>
<section class="slide level2">

</section></section>
<section>
<section id="looking-for-lumping-3" class="title-slide slide level1">
<h1>Looking for Lumping</h1>
<ul>
<li>How can we look for this stuff?</li>
<li>We can look graphically by just checking for a jump at the cutoff in <em>number of observations</em> after binning</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>df_bin_count <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="co"># Select breaks so that one of hte breakpoints is the cutoff</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">mutate</span>(<span class="at">X_bins =</span> <span class="fu">cut</span>(X, <span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">10</span><span class="sc">/</span><span class="dv">10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">group_by</span>(X_bins) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="looking-for-lumping-4" class="title-slide slide level1">
<h1>Looking for Lumping</h1>
<ul>
<li>The first one looks pretty good. We have one that looks not-so-good on the right</li>
</ul>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-13-1.png" class="img-fluid r-stretch" width="768"></section>
<section class="slide level2">

</section></section>
<section>
<section id="looking-for-lumping-5" class="title-slide slide level1">
<h1>Looking for Lumping</h1>
<ul>
<li>Another thing we can do is do a ‚Äúplacebo test‚Äù</li>
<li>Check if variables <em>other than treatment or outcome</em> vary at the cutoff</li>
<li>We can do this by re-running our RDD but just swapping out some other variable for our outcome</li>
<li>If we get a significant jump, that‚Äôs bad! That tells us that <em>other things are changing at the cutoff</em> which implies some sort of manipulation (or just super lousy luck)</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fuzzy-regression-discontinuity" class="title-slide slide level1">
<h1>Fuzzy Regression Discontinuity</h1>
<ul>
<li>So far, we‚Äôve assumed that you‚Äôre either on one side of the cutoff and untreated, or the other and treated</li>
<li>What if it isn‚Äôt so simple? What if the cutoff just <em>increases</em> your chances of treatment?</li>
<li>For example, maybe about 10% of kids with too-low test scores get into gifted-and-talented, and 80% of kids with high-enough scores do</li>
<li>For whatever reason!</li>
<li>This is a ‚Äúfuzzy regression discontinuity‚Äù</li>
<li>Now, our RDD will understate the true effect, since it‚Äôs being calculated on the assumption that we added treatment to 100% of people at the cutoff, when really it‚Äôs 70%. So we‚Äôll get roughly only about 70% of the effect</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fuzzy-regression-discontinuity-1" class="title-slide slide level1">
<h1>Fuzzy Regression Discontinuity</h1>
<ul>
<li>We can account for this with a model designed to take this into account</li>
<li>Specifically, we can use something called two-stage least squares (instrumental variables) to handle these sorts of situations</li>
<li>(you can go see the instrumental variables module if you like for more detail)</li>
<li>Basically, two-stage least squares estimates how much the chances of treatment go up at the cutoff, and scales the estimate by that change</li>
<li>So it would take whatever result we got on the previous slide and divide it by .7 to get the true effect</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fuzzy-regression-discontinuity-2" class="title-slide slide level1">
<h1>Fuzzy Regression Discontinuity</h1>
<ul>
<li>Notice that the y-axis here isn‚Äôt the outcome, it‚Äôs ‚Äúpercentage treated‚Äù</li>
</ul>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-14-1.png" class="img-fluid r-stretch" width="768"></section>
<section class="slide level2">

</section></section>
<section>
<section id="fuzzy-regression-discontinuity-3" class="title-slide slide level1">
<h1>Fuzzy Regression Discontinuity</h1>
<ul>
<li>We can perform this using the instrumental-variables features of <code>feols</code>, giving it two treatment-response functions</li>
<li>The first is an RDD specification where we use ‚Äútreatment‚Äù - i.e.&nbsp;whether you were actually treated</li>
<li>The second uses the same RDD specification, but replaces ‚Äútreatment‚Äù with ‚Äúabove the cutoff‚Äù</li>
<li><code>feols(outcome ~ controls  | XC*treated ~ XC*assigned_to_treatment)</code></li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="fuzzy-regression-discontinuity-4" class="title-slide slide level1">
<h1>Fuzzy Regression Discontinuity</h1>
<ul>
<li>(the true effect of treatment is .4 - okay, it‚Äôs not perfect)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>predict_treatment <span class="ot">&lt;-</span> <span class="fu">feols</span>(treatment <span class="sc">~</span> X_center<span class="sc">*</span>above_cut, <span class="at">data =</span> df)</span>
<span id="cb6-2"><a href="#cb6-2"></a>without_fuzzy <span class="ot">&lt;-</span><span class="fu">feols</span>(Y <span class="sc">~</span> X_center<span class="sc">*</span>treatment, <span class="at">data =</span> df)</span>
<span id="cb6-3"><a href="#cb6-3"></a>fuzzy_rdd <span class="ot">&lt;-</span> <span class="fu">feols</span>(Y <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> X_center<span class="sc">*</span>treatment <span class="sc">~</span> X_center<span class="sc">*</span>above_cut, <span class="at">data =</span> df)</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="fu">etable</span>(predict_treatment, without_fuzzy, fuzzy_rdd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                          predict_treatment      without_fuzzy
Dependent Var.:                   treatment                  Y
                                                              
Constant                   0.0605. (0.0354) 0.4263*** (0.0359)
X_center                    0.0044 (0.1215)  0.4099** (0.1250)
above_cutTRUE            0.3053*** (0.0484)                   
X_center x above_cutTRUE   -0.0392 (0.1687)                   
treatmentTRUE                               0.3414*** (0.0937)
X_center x treatmentTRUE                       0.2199 (0.3315)
X_center:treatmentTRUE                                        
________________________ __________________ __________________
S.E. type                               IID                IID
Observations                          1,000              1,000
R2                                  0.13289            0.04967
Adj. R2                             0.13028            0.04681

                                  fuzzy_rdd
Dependent Var.:                           Y
                                           
Constant                 0.4429*** (0.1149)
X_center                    0.5802 (0.4089)
above_cutTRUE                              
X_center x above_cutTRUE                   
treatmentTRUE               0.4458 (0.4158)
X_center x treatmentTRUE                   
X_center:treatmentTRUE      -0.8367 (1.610)
________________________ __________________
S.E. type                               IID
Observations                          1,000
R2                                  0.03968
Adj. R2                             0.03679
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="concept-checks-2" class="title-slide slide level1">
<h1>Concept Checks</h1>
<ul>
<li>Why does using a narrow window make the effect estimate noisier?</li>
<li>How do we know that, if our treatment variable is fuzzily assigned, we will <em>underestimate</em> the effect if we just run a regular RDD, rather than overestimate it?</li>
<li>Inuitively, why would we be skeptical that a regression discontinuity run on a very granular running variable is valid?</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-in-r" class="title-slide slide level1">
<h1>Regression Discontinuity in R</h1>
<ul>
<li>We‚Äôve gone through all kinds of procedures for doing RDD in R already using regression</li>
<li>But often, professional researchers won‚Äôt do it that way!</li>
<li>We‚Äôll use packages and formulas that do things like ‚Äúpicking a bandwidth (window)‚Äù for us in a smart way, or not relying so strongly on linearity</li>
<li>The <strong>rdrobust</strong> package does just that!</li>
<li>Let‚Äôs look at <code>help(rdrobust, packge = 'rdrobust')</code></li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="regression-discontinuity-in-r-1" class="title-slide slide level1">
<h1>Regression Discontinuity in R</h1>
<ul>
<li>We can specify an RDD model by just telling it the dependent variable <span class="math inline">\(Y\)</span>, the running variable <span class="math inline">\(X\)</span>, and the cutoff <span class="math inline">\(c\)</span>.</li>
<li>We can also specify how many polynomials to us with <code>p</code></li>
<li>(it applies the polynomials more locally than our linear OLS models do - a bit more flexible without weird corner preditions)</li>
<li>It will also pick a window for us with <code>h</code></li>
<li>Plenty of other options</li>
<li>Including a <code>fuzzy</code> option to specify actual treatment outside of the running variable/cutoff combo</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="rdrobust" class="title-slide slide level1">
<h1>rdrobust</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">summary</span>(<span class="fu">rdrobust</span>(df<span class="sc">$</span>Y, df<span class="sc">$</span>X, <span class="at">c =</span> .<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sharp RD estimates using local polynomial regression.

Number of Obs.                 1000
BW type                       mserd
Kernel                   Triangular
VCE method                       NN

Number of Obs.                  488          512
Eff. Number of Obs.             120          156
Order est. (p)                    1            1
Order bias  (q)                   2            2
BW est. (h)                   0.142        0.142
BW bias (b)                   0.213        0.213
rho (h/b)                     0.668        0.668
Unique Obs.                     488          512

=============================================================================
        Method     Coef. Std. Err.         z     P&gt;|z|      [ 95% C.I. ]       
=============================================================================
  Conventional     0.124     0.258     0.481     0.631    [-0.382 , 0.630]     
        Robust         -         -     0.522     0.602    [-0.448 , 0.774]     
=============================================================================</code></pre>
</div>
</div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="rdrobust-1" class="title-slide slide level1">
<h1>rdrobust</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">summary</span>(<span class="fu">rdrobust</span>(df<span class="sc">$</span>Y, df<span class="sc">$</span>X, <span class="at">c =</span> .<span class="dv">5</span>, <span class="at">fuzzy =</span> df<span class="sc">$</span>treatment))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Fuzzy RD estimates using local polynomial regression.

Number of Obs.                 1000
BW type                       mserd
Kernel                   Triangular
VCE method                       NN

Number of Obs.                  488          512
Eff. Number of Obs.             119          156
Order est. (p)                    1            1
Order bias  (q)                   2            2
BW est. (h)                   0.141        0.141
BW bias (b)                   0.206        0.206
rho (h/b)                     0.687        0.687
Unique Obs.                     488          512

First-stage estimates.

=============================================================================
        Method     Coef. Std. Err.         z     P&gt;|z|      [ 95% C.I. ]       
=============================================================================
  Conventional     0.211     0.103     2.057     0.040     [0.010 , 0.412]     
        Robust         -         -     1.382     0.167    [-0.072 , 0.416]     
=============================================================================

Treatment effect estimates.

=============================================================================
        Method     Coef. Std. Err.         z     P&gt;|z|      [ 95% C.I. ]       
=============================================================================
  Conventional     0.594     1.182     0.503     0.615    [-1.722 , 2.910]     
        Robust         -         -     0.621     0.535    [-1.921 , 3.702]     
=============================================================================</code></pre>
</div>
</div>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="rdrobust-2" class="title-slide slide level1">
<h1>rdrobust</h1>
<ul>
<li>We can even have it automatically make plots of our RDD! Same syntax</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">rdplot</span>(df<span class="sc">$</span>Y, df<span class="sc">$</span>X, <span class="at">c =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_files/figure-revealjs/unnamed-chunk-18-1.png" class="img-fluid r-stretch" width="768"></section>
<section class="slide level2">

</section></section>
<section id="thats-it" class="title-slide slide level1">
<h1>That‚Äôs it!</h1>
<ul>
<li>That‚Äôs what we have for RDD</li>
<li>Go explore the regression discontinuity Swirl</li>
<li>And the homework</li>
<li>And the paper to read!</li>
</ul>


<img src="../../../figures/logos/MY_INSTITUTION.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>PB4A7- Quantitative Applications for Behavioural Science</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>